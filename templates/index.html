<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="static\\style.css">
    <link rel="icon" type="image/x-icon" href="/static/favicon.png">
    <script src="static\\script.js" defer></script>
    <title>–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –∫–æ–º—Ç–µ—Ö–Ω–æ</title>
</head>
<body>
    <!-- –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
    <div class="navbar">
        <div class="long-title">
            <h3 class="long-version">–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –∫–æ–º—Ç–µ—Ö–Ω–æ</h3>
            <h3 class="short-version">–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç</h3>
        </div>
        <div class="hamburger-menu">
            <input id="menu__toggle" type="checkbox" />
            <label class="menu__btn" for="menu__toggle">
                <span></span>
            </label>

            <ul class="menu__box">
                <li><a class="menu__item" href="/">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a></li>
                <li><a class="menu__item" href="https://comtehno.kg/">–ö–û–ú–¢–ï–•–ù–û</a></li>
                <li><a class="menu__item" href="https://comtehno.kg/timetable/">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a></li>
                <li><a class="menu__item" href="/chat">–ß–∞—Ç  <em>beta</em></a></li>
                <li><a class="menu__item" href="#" id="clear-history">–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</a></li>
                <li><a class="menu__item" href="/info">–°–ø—Ä–∞–≤–∫–∏</a></li>
            </ul>
        </div>
    </div>
    <!-- –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="content">
        <div class="chat-message-bot">
            <span class="avatar">
                <img src="static\comtehno.png" alt="Avatar">
            </span>
            <div class="info-bot">
                <div class="name-bot" id="name-bot">–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –∫–æ–º—Ç–µ—Ö–Ω–æ</div>
                <div id="introduction"><p>
                    –ü—Ä–∏–≤–µ—Ç-–ø—Ä–∏–≤–µ—Ç! üòä<br> –Ø –≥–æ–ª–æ—Å–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫, –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–æ–ª–ª–µ–¥–∂–µ–º "–ö–û–ú–¢–ï–•–ù–û".<br>

                    –†–∞–¥–∞ –ø–æ–º–æ—á—å –≤–∞–º –≤ –º–∏—Ä–µ –∑–Ω–∞–Ω–∏–π –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π. üåü<br><br>

                    –ú–æ–≥—É –¥–∞—Ç—å —Å–æ–≤–µ—Ç—ã –ø–æ –≤—ã–±–æ—Ä—É —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏, —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –∏ –æ–±—É—á–µ–Ω–∏–∏, –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏

                    –∏ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è –Ω–æ–≤–æ—Å—Ç—è–º–∏ –∏–∑ —Å—Ñ–µ—Ä—ã IT. üñ•Ô∏è<br>

                    –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –æ–±—Ä–∞—â–∞—Ç—å—Å—è ‚Äì –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤–∞ –ø–æ–º–æ—á—å! üòäüëç
                </p>
                </div>
                
            </div>
        </div>
        {% for message in chat_history %}
            {% set index = loop.index0 %}
            {% if message.role == "user" %}
                <div class="chat-message-user">
                    <div class="info-user">
                        <div class="message-content for-user" id="user-message-{{ index }}">{{ message.message }}</div>
                    </div>
                </div>
            {% else %}
                <div class="chat-message-bot">
                    <span class="avatar">
                        <img src="static\comtehno.png" alt="Avatar">
                    </span>
                    <div class="info-bot">
                        <div class="name-bot">–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –∫–æ–º—Ç–µ—Ö–Ω–æ</div>
                        <div class="message-content" id="assistant-message-{{ index }}">{{ message.message }}</div>
                        <div class="info {% if index == message_count - 1 %}last{% endif %}">
                            <audio id="myAudio" style="display: none;" controls>
                                <source id="audioSource" type="audio/mpeg">
                                –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç audio.
                            </audio>
                            <div class="wrap-svg {% if index == message_count - 1 %}last{% endif %}">
                                <svg fill="#d1d5db" width="20px" height="20px" viewBox="0 0 24 24" id="sound" data-name="Line Color" xmlns="http://www.w3.org/2000/svg" class="icon line-color" stroke="#d1d5db" onclick="sendSynthesisRequest('{{ index }}')">
                                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                    <g id="SVGRepo_iconCarrier">
                                        <path id="secondary" d="M18.36,5.64a9,9,0,0,1,0,12.72" style="fill: none; stroke: #d1d5db; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path>
                                        <path id="secondary-2" data-name="secondary" d="M15.54,8.46a5,5,0,0,1,0,7.08" style="fill: none; stroke: #d1d5db; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path>
                                        <path id="primary" d="M11,5V19L7,15H4a1,1,0,0,1-1-1V10A1,1,0,0,1,4,9H7Z" style="fill: none; stroke: #d1d5db; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path>
                                    </g>
                                </svg>
                                <svg fill="#d1d5db" height="20px" width="20px" version="1.1" id="copy-button" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-46 -46 552.00 552.00" xml:space="preserve" stroke="#d1d5db" stroke-width="0.0046" transform="rotate(0)" onclick="copyText('{{ index }}')">
                                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.9200000000000002"></g>
                                    <g id="SVGRepo_iconCarrier"> <g> <g> <g>
                                        <path d="M425.934,0H171.662c-18.122,0-32.864,14.743-32.864,32.864v77.134h30V32.864c0-1.579,1.285-2.864,2.864-2.864h254.272 c1.579,0,2.864,1.285,2.864,2.864v254.272c0,1.58-1.285,2.865-2.864,2.865h-74.729v30h74.729 c18.121,0,32.864-14.743,32.864-32.865V32.864C458.797,14.743,444.055,0,425.934,0z"></path>
                                        <path d="M288.339,139.998H34.068c-18.122,0-32.865,14.743-32.865,32.865v254.272C1.204,445.257,15.946,460,34.068,460h254.272 c18.122,0,32.865-14.743,32.865-32.864V172.863C321.206,154.741,306.461,139.998,288.339,139.998z M288.341,430H34.068 c-1.58,0-2.865-1.285-2.865-2.864V172.863c0-1.58,1.285-2.865,2.865-2.865h254.272c1.58,0,2.865,1.285,2.865,2.865v254.273h0.001 C291.206,428.715,289.92,430,288.341,430z"></path></g> </g> </g>
                                    </g>
                                </svg>
                                <svg fill="#d1d5db" width="20px" height="20px" viewBox="0 0 1024.00 1024.00" id="bad_answer" xmlns="http://www.w3.org/2000/svg" class="icon" transform="rotate(0)matrix(-1, 0, 0, 1, 0, 0)" onclick="bad_answer('{{ index }}')">
                                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                    <g id="SVGRepo_iconCarrier">
                                        <path d="M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 0 0-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81zm627.2 160.4H496.8l9.6 198.4c.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7a44.28 44.28 0 0 1-42.2-32.3L329 459.2V172h415.4a56.85 56.85 0 0 1 33.6 51.8c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0 1 19.6 43c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0 1 19.6 43c0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19a56.76 56.76 0 0 1 19.6 43c0 19.1-11 37.5-28.8 48.4z"></path>
                                    </g>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}
        {% endfor %}
    </div>
    <div class="presentation {% if chat_history|length > 0 %}hidden{% endif %}">
        <div class="blok one visible" onclick="sendQuestion('–ö–∞–∫–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –µ—Å—Ç—å –≤ –∫–æ–ª–ª–µ–¥–∂–µ?')">
            <p class="bold-blok"><b>–ö–∞–∫–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</b><br> –µ—Å—Ç—å –≤ –∫–æ–ª–ª–µ–¥–∂–µ?</p>
            <div class="svg">
                <svg width="24" height="24" viewBox="0 -2 24 24" fill="#232323">
                    <path d="M12 6V18M12 6L7 11M12 6L17 11" stroke="#232323" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
            </div>
        </div>
        <div class="blok two" onclick="sendQuestion('–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –≤ —ç—Ç–æ–º —É—á–µ–±–Ω–æ–º –≥–æ–¥—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç?')">
            <p class="bold-blok"><b>–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç </b><br>–≤ —ç—Ç–æ–º —É—á–µ–±–Ω–æ–º –≥–æ–¥—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç?</p>
            <div class="svg">
                <svg width="24" height="24" viewBox="0 -2 24 24" fill="#232323">
                    <path d="M12 6V18M12 6L7 11M12 6L17 11" stroke="#232323" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
            </div>
        </div>
        <div class="blok three visible" onclick="sendQuestion('–ü—Ä–∏–µ–º–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è')">
            <p class="bold-blok"><b>–ü—Ä–∏–µ–º–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è</b><br> –Ω–æ–º–µ—Ä Whatsapp</p>
            <div class="svg">
                <svg width="24" height="24" viewBox="0 -2 24 24" fill="#232323">
                    <path d="M12 6V18M12 6L7 11M12 6L17 11" stroke="#232323" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
            </div>
        </div>
        <div class="blok four" onclick="sendQuestion('–ö–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ–¥–∞—Ç—å –ø—Ä–∏ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏?')">
            <p class="bold-blok"><b>–ö–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã </b><br> –ø–æ–¥–∞—Ç—å –ø—Ä–∏ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏?</p>
            <div class="svg">
                <svg width="24" height="24" viewBox="0 -2 24 24" fill="#232323">
                    <path d="M12 6V18M12 6L7 11M12 6L17 11" stroke="#232323" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
            </div>
        </div>
    </div>
    <div id="copy-notification" style="display: none;">–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!</div>
    <form action="/api" method="post" autocomplete="off" onsubmit="return validateForm()">
        <div class="wrap-chat">
            <div class="chat-input">
                <textarea name="question" id="question-input" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ‚Ä¶" rows="1" autofocus></textarea>
                <input type="hidden" name="dummy" value="placeholder">
                <button name="button" id="send-button" class="send-button">
                    <svg width="24" height="24" viewBox="0 -2 24 24" fill="#232323"> 
                        <path d="M12 6V18M12 6L7 11M12 6L17 11" stroke="#232323" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                </button>
            </div>
        </div>
    </form>
</body>
</html>